# Laravel API Fetcher and Database Storage

## Описание проекта
Этот проект представляет собой Laravel-приложение, которое подключается к API, извлекает данные в формате JSON с различных эндпоинтов (`stocks`, `incomes`, `orders`, `sales`), преобразует их и сохраняет в базу данных MySQL. Приложение разработано с использованием сервисного подхода для легкости сопровождения и масштабируемости.

---

## Установка

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/DenEvtifeev/wb-api-project
   cd <repository_folder>
   
2. .evn файл.
    ```
    для корректной работы проекта скопируйте данные из .env.example в ваш .env файл.
    далее добавьте строки:
    WB_API_BASE_URL="http://89.108.115.241:6969/api"
    API_KEY="E6kUTYrYwZq2tN4QEtyzsbEBk3ie"
    в полях, отвечающих за соединение с базой данных вставить следующие строки:
    DB_CONNECTION=mysql
    DB_HOST=174.138.91.93
    DB_PORT=3306
    DB_DATABASE=gncawbpnnu
    DB_USERNAME=gncawbpnnu
    DB_PASSWORD=dP2SHymPxT
## Комментарии по проекту.
База данных была развернута на хостинге cloudways.com

Тесты проводились на локальной базе данных, всё работало стабильно. 
с хостингом могут возникнуть проблемы, так как пробный период составляет 3 дня.

пример запроса: {/endpoint/dateFrom/dateTo} например /incomes/2025-01-27/2025-01-27 

в проекте был использован подход с созданием отдельного сервиса, в котором реализована логика и построение API запросов.
для отправки запросов был использован встроенный в ларавел модуль HTTP, с использованием которого была реализована логика отпраки запросов.

созданы контроллеры и рауты под каждый эндпоинт
для записи полученных данных использовались функции eloquent fill и save

для валидации данных был создан интерфейс HasRulesInterface в котором указана структура моделей
в моделях указаны поля $fillable в котором указаны обязательные поля, $rules в котором указаны правила этих полей, а так же getRules, которая возвращает эти правила
такая структура способствует легкому масштабированию кода, удобсту вызова методов с нужными параметрами

Если бы в задании была предоставлена информация по количеству запросов и мутабельности данных, можно было бы реализовать очереди и кеширование

